---
title: "Command Line - Execute Shell Commands from R"
author: Aravind Hebbali
twitterImg: /img/cline_cover_image.png
description: "Getting Started with the Command Line"
date: '2019-10-25'
slug: command-line-execute-shell-commands-from-R
categories:
  - bash
tags:
  - bash
  - shell
  - terminal
  - cli
---



<p><img src="/img/cline_cover_image.png" width="70%" style="display: block; margin: auto;" /></p>
<p>This is the ninth tutorial in the series <a href="https://tutorials.rsquaredacademy.com/command-line/index.html">Command Line Basics for R Users</a>. In this tutorial, we will learn to execute shell commands in R.</p>
<div id="resources" class="section level2">
<h2>Resources</h2>
<p>Below are the links to all the resources related to this tutorial:</p>
<ul>
<li><a href="https://slides.rsquaredacademy.com/github/shell.pdf" target="_blank">Slides</a></li>
<li><a href="https://github.com/rsquaredacademy-education/online-courses/" target="_blank">Code &amp; Data</a></li>
<li><a href="https://rstudio.cloud/project/518720" target="_blank">RStudio Cloud</a></li>
</ul>
<p>You can try our <strong>free online course</strong> <a href="https://rsquared-academy.thinkific.com/courses/command-line-basics-for-r-users"><strong>Command Line Basics for R Users</strong></a> if you prefer to learn through self paced online courses or our <a href="https://bash-intro.rsquaredacademy.com"><strong>ebook</strong></a> if you like to read the tutorial in a book format.</p>
</div>
<div id="system2" class="section level2">
<h2>Execute Commands from R</h2>
{{% youtube "r7N5HNtmKIc" %}}
<p>Now, let us turn our attention to executing commands from R using <code>system2()</code>.
Here we will focus on the following</p>
<ul>
<li>execute a command without arguments</li>
<li>execute commands with arguments</li>
<li>redirect output</li>
</ul>
<p>Let us try to execute a command without any additional arguments. We will execute the <code>ls</code> command to list all files and directories. Use <code>system2()</code> and specify the command using the <code>command</code> argument. Whenever you are trying to execute a command from R, the first argument or input should be the command and it must be enclosed in quotes.</p>
<pre class="r"><code>system2(command = &quot;ls&quot;)</code></pre>
<p>Great! Now, how do we specify the options? The additional options of a
command must be stored as a character vector and specified using the <code>args</code>
argument. In the below example, we delete the <code>examples</code> folder we created earlier while decompressing the <code>zip_example.zip</code> file.</p>
<pre class="r"><code>system2(command = &quot;rm&quot;,
        args    = c(&quot;-r&quot;, &quot;examples&quot;))</code></pre>
<p>In some cases, we might want to redirect the output. Let us say we are writing
message to a file using the <code>echo</code> command. In this cases, we want the output
to be redirected to the <code>release.txt</code> file. The <code>stdout</code> argument can be used to redirect output to a file or the R console. In the below example, we redirect the output to a file.</p>
<pre class="r"><code>system2(command = &quot;echo&quot;, 
        args    = c(&quot;Great Truth&quot;), 
        stdout  = &quot;release.txt&quot;)</code></pre>
<p>In the next example, we redirect the output to the R console by setting the value of the <code>stdout</code> argument to <code>TRUE</code>. If you are curious, set the value to <code>FALSE</code> and see what happens.</p>
<pre class="r"><code>system2(command = &quot;diff&quot;, 
        args    = c(&quot;imports_olsrr.txt&quot;, &quot;imports_blorr.txt&quot;),  
        stdout  = TRUE)</code></pre>
<p>The <code>run()</code> command from the <a href="https://processx.r-lib.org/">processx</a> package can be used to execute shell commands as well.</p>
</div>
<div id="shellrstudio" class="section level2">
<h2>Execute Shell Commands in RStudio</h2>
<p>In RStudio, commands can be executed from shell scripts by pressing <code>Ctrl + Enter</code>. Instead of sending the command to the R console, it is redirected to
the terminal where it is executed as shown below.</p>
<p><img src="/img/cline_rstudio_shell.gif" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="shellrmarkdown" class="section level2">
<h2>RMarkdown</h2>
<p>RMarkdown supports <code>bash</code>, <code>sh</code> and <code>awk</code>. This post was initially created using <code>sh</code> as the underlying operating system is Windows. Later, we used <code>bash</code> after installing the Windows subsystem for Linux. Click <a href="https://bookdown.org/yihui/rmarkdown/language-engines.html#shell-scripts">here</a> to learn more.</p>
<p><img src="/img/cline_shell_markdown.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="feedback" class="section level2">
<h2>Feedback</h2>
<p>If you see mistakes or want to suggest changes, please create an issue on the
<a href="https://github.com/rsquaredacademy-infra/blog" target="_blank">source
repository</a> or reach out to us at <a href="mailto:support@rsquaredacademy.com" class="email">support@rsquaredacademy.com</a>.</p>
<!-- clean up folder structure -->
<pre><code>## Warning in system2(&quot;rm&quot;, c(&quot;-r&quot;, &quot;J:/R/courses/course/content/post/cline&quot;)):
## &#39;&quot;rm&quot;&#39; not found</code></pre>
</div>
